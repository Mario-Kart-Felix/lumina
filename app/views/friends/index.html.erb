<div class="d-flex">
  <%= render 'components/side_bar/side_bar_final' %>

  <!-- Friends Container-->
  <div class="container dashboard-main d-flex justify-content-center flex-wrap pb-4 mb-5">
    <% current_user.friends.each do |friend| %>
      <!-- Friends Card -->
      <div class="container border d-flex">
        <%= cl_image_tag(friend.avatar.key, style:"width: 200px; border-radius: 24px") %>
        <!-- Friend Info -->
        <div class="d-flex flex-column justify-content-between">
          <h3><%= friend.first_name %> <%= friend.last_name %></h3>

          <div class="d-flex justify-content-start">
          <%= link_to "Block", friends_block_path(friend), controller: "friends", action: 'block', method: 'post', id: friend.id, class:"mr-2" %>
          <%= link_to "Delete", friends_delete_path(friend), controller: "friends", action: 'remove', method: 'post', id: friend.id  %>
          </div>
        </div>
      </div>
      <% end %>

    <!-- Strangers You Might Like -->
    <div class="d-flex flex-wrap border">
    <% current_user.strangers.each do |stranger| %>
      <% if current_user.interests.any? { |interest| stranger.interests.include?(interest)} %>
        <div class="test-container">

          <%= cl_image_tag(stranger.avatar.key, style:"width: 200px; border-radius: 24px;") %>
          <h5 style="color: white;"><%= stranger.first_name %> <%= stranger.last_name %></h5>

          <% current_user.interests.each do |interest| %>
            <% if (stranger.interests.include?(interest)) %>
            <h5>You both love <%= interest %> </h5>
            <% end %>
          <% end %>

          <p><%= stranger.first_name %> is interested in
            <% stranger.interests.each do |interest| %>
              <%= interest %>
            <% end  %>

          </p>
          <%= link_to "Request", friends_path(stranger), controller: "friends", action: 'create', method: 'post', class: "btn btn-primary btn-sm my-auto", id: stranger.id  %>
        </div>
        <% end %>
      <% end %>
    </div>

  </div>
</div>
